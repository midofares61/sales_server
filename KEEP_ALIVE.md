# Keep-Alive Configuration Guide

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู Keep-Alive ูููุดุฑูุน ูููุน ุงูุณูุฑูุฑ ูู ุงูุฏุฎูู ูู ูุถุน Sleep ุนูู ููุตุงุช ุงูุงุณุชุถุงูุฉ ุงููุฌุงููุฉ ูุซู Render.

### ุงููุดููุฉ
ููุตุฉ Render (ูู ุงูุฎุทุฉ ุงููุฌุงููุฉ) ุชููู ุงูุณูุฑูุฑ ุจุนุฏ **15 ุฏูููุฉ** ูู ุนุฏู ูุฌูุฏ ุทูุจุงุช HTTP. ุนูุฏูุง ูุฏุฎู ุงูุณูุฑูุฑ ูู ูุถุน Sleep:
- ูุชููู ุงูู API ุนู ุงูุงุณุชุฌุงุจุฉ
- ุชููุทุน ุงุชุตุงูุงุช Socket.io
- ูุญุชุงุฌ ุงูุณูุฑูุฑ ุฅูู 30-60 ุซุงููุฉ ููุนูุฏุฉ ููุนูู ุนูุฏ ุงูุทูุจ ุงูุชุงูู

### ุงูุญู
ุชู ุฅูุดุงุก ูุธุงู Keep-Alive ุฏุงุฎูู ูููู ุจุฅุฑุณุงู ุทูุจุงุช HTTP ุฏูุฑูุฉ ููุณูุฑูุฑ ููุณู ูู **10 ุฏูุงุฆู** ูุฅุจูุงุฆู ูุดุทุงู ุฏุงุฆูุงู.

---

## ๐ ุงูุชูุนูู ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
ุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ ุฅูู ููู `.env` ุฃู ุฅุนุฏุงุฏุงุช Render:

```env
# ุฑุงุจุท ุงูุณูุฑูุฑ ุงูุฎุงุต ุจู ุนูู Render
SERVER_URL=https://your-app.onrender.com

# ุงููุฏุฉ ุจูู ูู Ping ุจุงูุฏูุงุฆู (ุงุฎุชูุงุฑู - ุงูุงูุชุฑุงุถู: 10)
KEEP_ALIVE_PING_INTERVAL=10
```

### ุงูุฎุทูุฉ 2: ุฑูุน ุงูุชุญุฏูุซุงุช ุนูู Render
```bash
git add .
git commit -m "Add Keep-Alive service"
git push
```

### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ Environment Variables ุนูู Render
1. ุงุฐูุจ ุฅูู Dashboard > Your App > Environment
2. ุฃุถู ุงููุชุบูุฑ `SERVER_URL` ูุน ุฑุงุจุท ุงูุชุทุจูู ุงูุฎุงุต ุจู
3. ุงุญูุธ ุงูุชุบููุฑุงุช ูุงูุชุธุฑ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ

---

## ๐ ููู ูุนูู ุงููุธุงูุ

### 1. Health Check Endpoints
ุชู ุฅุถุงูุฉ 3 endpoints ุฌุฏูุฏุฉ:

#### `/api/health`
ูุนุทู ูุนูููุงุช ุชูุตูููุฉ ุนู ุญุงูุฉ ุงูุณูุฑูุฑ:
```json
{
  "status": "ok",
  "timestamp": "2024-10-23T15:30:00.000Z",
  "uptime": 3600.5,
  "memory": {
    "used": 45,
    "total": 128,
    "unit": "MB"
  },
  "keepAlive": {
    "enabled": true,
    "serverUrl": "https://your-app.onrender.com",
    "pingIntervalMinutes": 10,
    "nextPingIn": "10 minutes"
  }
}
```

#### `/api/ping`
ูุณุฎุฉ ุฃุฎู ูุฃุณุฑุน ููู health check:
```json
{
  "status": "ok",
  "timestamp": "2024-10-23T15:30:00.000Z"
}
```

#### `/api/keepalive/status`
ูุนุทู ุญุงูุฉ ุฎุฏูุฉ Keep-Alive ููุท:
```json
{
  "enabled": true,
  "serverUrl": "https://your-app.onrender.com",
  "pingIntervalMinutes": 10,
  "nextPingIn": "10 minutes"
}
```

### 2. Keep-Alive Service
- ูุชู ุชุดุบููู ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงูุณูุฑูุฑ (ุฅุฐุง ูุงู `SERVER_URL` ููุฌูุฏ)
- ูุฑุณู ุทูุจ GET ุฅูู `/api/health` ูู 10 ุฏูุงุฆู (ุงูุชุฑุงุถูุงู)
- ูุณุฌู ุงููุชุงุฆุฌ ูู Console logs ูุน ููุช ุงูุงุณุชุฌุงุจุฉ

### 3. Logs
ุนูุฏ ุชุดุบูู ุงูุณูุฑูุฑุ ุณุชุดุงูุฏ:
```
Server listening on port 3000
๐ Keep-Alive service activated for: https://your-app.onrender.com
โ Keep-Alive service started - Pinging https://your-app.onrender.com every 10 minutes
๐ Keep-Alive ping successful - Response time: 45ms - Status: 200
```

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุชุบููุฑ ูุชุฑุฉ ุงูู Ping
ูุชุบููุฑ ุงููุฏุฉ ุจูู ูู Ping (ุงูุงูุชุฑุงุถู: 10 ุฏูุงุฆู):

```env
KEEP_ALIVE_PING_INTERVAL=5  # ุณูุฑุณู Ping ูู 5 ุฏูุงุฆู
```

**ููุงุญุธุฉ:** ูุง ุชุฌุนู ุงููุชุฑุฉ ุฃูู ูู 5 ุฏูุงุฆู ูุชุฌูุจ ุงูุถุบุท ุนูู ุงูุณูุฑูุฑ.

### ุชุนุทูู Keep-Alive
ูุชุนุทูู ุงูุฎุฏูุฉุ ูู ุจุฅุฒุงูุฉ ุฃู ุชุนููู ุงููุชุบูุฑ `SERVER_URL`:

```env
# SERVER_URL=https://your-app.onrender.com
```

ุณุชุดุงูุฏ ูู ุงูู logs:
```
โน๏ธ Keep-Alive service disabled (SERVER_URL not set)
```

---

## ๐ ุงูุชุญูู ูู ุนูู ุงููุธุงู

### 1. ุนุจุฑ Browser
ุฒุฑ ุฃู ูู ุงูู endpoints:
- `https://your-app.onrender.com/api/health`
- `https://your-app.onrender.com/api/ping`
- `https://your-app.onrender.com/api/keepalive/status`

### 2. ุนุจุฑ Render Logs
ุงุฐูุจ ุฅูู Dashboard > Your App > Logs ูุงุจุญุซ ุนู:
```
๐ Keep-Alive ping successful
```

### 3. ุนุจุฑ Monitoring Tools
ููููู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุฎุงุฑุฌูุฉ ูุซู:
- [UptimeRobot](https://uptimerobot.com/) (ูุฌุงูู)
- [StatusCake](https://www.statuscake.com/)
- [Pingdom](https://www.pingdom.com/)

ุถุน ุฑุงุจุท `/api/ping` ูู ูุฐู ุงูุฃุฏูุงุช ูููุฑุงูุจุฉ ุงูุฎุงุฑุฌูุฉ.

---

## ๐ ุงูููุงุฆุฏ

### โ ูุน Keep-Alive
- ุงูุณูุฑูุฑ ูุจูู ูุดุท 24/7
- Socket.io connections ุชุจูู ูุชุตูุฉ
- ุงุณุชุฌุงุจุฉ ููุฑูุฉ ููุทูุจุงุช
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู

### โ ุจุฏูู Keep-Alive
- ุงูุณูุฑูุฑ ููุงู ุจุนุฏ 15 ุฏูููุฉ
- ุงูุชุธุงุฑ 30-60 ุซุงููุฉ ูุฃูู ุทูุจ ุจุนุฏ Sleep
- ุงููุทุงุน Socket.io connections
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Keep-Alive ูุง ูุนูู
**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุฌูุฏ `SERVER_URL` ูู Environment Variables
2. ุชุฃูุฏ ูู ุตุญุฉ ุงูุฑุงุจุท (ูุฌุจ ุฃู ูุญุชูู ุนูู `https://`)
3. ุฑุงุฌุน ุงูู logs ุนูู Render

### ุงููุดููุฉ: Ping ููุดู
**ุงูุญู:**
1. ุชุญูู ูู ุฃู `/api/health` endpoint ูุนูู
2. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุดุงูู ูู ุงูู Database connection
3. ุฑุงุฌุน ุงูู error logs

### ุงููุดููุฉ: ุงูุณูุฑูุฑ ูุง ูุฒุงู ููุงู
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู `KEEP_ALIVE_PING_INTERVAL` ุฃูู ูู 15 ุฏูููุฉ
2. ุชุญูู ูู ุฃู ุงูู Ping ูุนูู ุจูุฌุงุญ ูู ุงูู logs
3. ุฌุฑุจ ุชูููู ุงููุชุฑุฉ ุฅูู 5 ุฏูุงุฆู

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
- `src/services/keepAlive.service.js` - ุฎุฏูุฉ Keep-Alive ุงูุฑุฆูุณูุฉ
- `src/routes/health.routes.js` - Health check endpoints
- `KEEP_ALIVE.md` - ูุฐุง ุงูููู

### ูููุงุช ูุนุฏูุฉ:
- `src/server.js` - ุฅุถุงูุฉ ุชูุนูู Keep-Alive
- `src/routes/index.js` - ุฅุถุงูุฉ health routes
- `src/config/index.js` - ุฅุถุงูุฉ ูุชุบูุฑุงุช Keep-Alive
- `.env.example` - ุฅุถุงูุฉ ุฃูุซูุฉ ูููุชุบูุฑุงุช

---

## ๐ก ูุตุงุฆุญ ุฅุถุงููุฉ

### ููุฅูุชุงุฌ (Production)
- ุงุณุชุฎุฏู Render ุฃู ุฃู ููุตุฉ ุงุณุชุถุงูุฉ ููุซููุฉ
- ูุนูู HTTPS ุฏุงุฆูุงู
- ุฑุงูุจ ุงูู logs ุจุงูุชุธุงู
- ุงุณุชุฎุฏู ุฃุฏุงุฉ monitoring ุฎุงุฑุฌูุฉ

### ููุชุทููุฑ (Development)
- ูุง ุญุงุฌุฉ ูุชูุนูู Keep-Alive ูุญููุงู
- ุงุชุฑู `SERVER_URL` ูุงุฑุบ ูู `.env` ุงููุญูู

### ููุชูููุฑ
- ูู ุญุงูุฉ ุนุฏู ุงูุญุงุฌุฉ ููุณูุฑูุฑ 24/7ุ ููููู ุชุนุทูู Keep-Alive
- Render free tier ูุนุทูู 750 ุณุงุนุฉ ุดูุฑูุงู (ูุงููุฉ ูุดูุฑ ูุงูู)

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ุงูู logs ุนูู Render
2. ุชุญูู ูู Health check endpoints
3. ุฑุงุฌุน ูุฐุง ุงูููู ููุญููู

---

**ุชู ุงูุชุญุฏูุซ:** ุฃูุชูุจุฑ 2024
**ุงูุฅุตุฏุงุฑ:** 1.0.0
